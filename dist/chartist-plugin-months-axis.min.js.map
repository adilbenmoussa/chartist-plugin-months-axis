{"version":3,"sources":["chartist-plugin-months-axis.js"],"names":["root","factory","define","amd","returnExportsGlobal","exports","module","this","window","document","Chartist","MonthsAxis","axisUnit","data","chartRect","options","year","ticks","getMonthTicks","divisor","length","range","min","max","super","constructor","call","stepLength","axisLength","projectValue","value","getMultiValue","units","pos","Array","apply","map","x","i","month","day","Date","getTime","Axis","extend"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAKI,oBAAsBH,MAET,gBAAZI,SAIhBC,OAAOD,QAAUJ,IAEjBD,EAAK,uBAAyBC,KAEhCM,KAAM,WAoEN,MAvDC,UAAUC,EAAQC,EAAUC,GACzB,YAEA,SAASC,GAAWC,EAAUC,EAAMC,EAAWC,GAC3CR,KAAKS,KAAOD,EAAQC,KACpBT,KAAKU,MAAQC,EAAcX,KAAKS,MAChCT,KAAKY,QAAUZ,KAAKU,MAAMG,OAC1Bb,KAAKc,OACDC,IAAKf,KAAKU,MAAM,GAChBM,IAAKhB,KAAKU,MAAMV,KAAKU,MAAMG,OAAS,IAGxCV,EAASC,WAAWa,MAAMC,YAAYC,KAAKnB,KACzCK,EACAE,EACAP,KAAKU,MACLF,GAEFR,KAAKoB,WAAapB,KAAKqB,WAAarB,KAAKY,QAG7C,QAASU,GAAaC,GAClB,MAAOvB,MAAKqB,aAAelB,EAASqB,cAAcD,EAAOvB,KAAKyB,MAAMC,KAAO1B,KAAKc,MAAMC,MAAQf,KAAKc,MAAME,IAAMhB,KAAKc,MAAMC,KAU9H,QAASJ,GAAcF,GAEnB,MAAOkB,OAAMC,MAAM,KAAM,GAAID,OAAM,KAAKE,IAAI,SAAUC,EAAGC,GACrD,GAAIC,GAAQD,EAAGE,EAAM,CASrB,OALU,MAANF,IACAC,EAAQ,GACRC,EAAM,IAGH,GAAIC,MAAKzB,EAAMuB,EAAOC,GAAKE,YAI1ChC,EAASC,WAAaD,EAASiC,KAAKC,QAChCnB,YAAad,EACbkB,aAAcA,KAGpBrB,OAAQC,SAAUC,UAEbA,SAASC","file":"chartist-plugin-months-axis.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function () {\n      return (root.returnExportsGlobal = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.MonthsAxis'] = factory();\n  }\n}(this, function () {\n\n  /**\n   * Created by adilbenmoussa on 03/12/2016.\n   * Chartist.js plugin to add fixed month scale axis to the chart.\n   *\n   * It will create a 13 fixed steps representing the 12 months plus one step\n   * to guarantee a space in the last month December. (so the min value will be 01-01-yyyy and the max item will\n   * be 31-12-yyyy.\n   *\n   * @module Chartist.MonthsAxis\n   */\n  /* global Chartist */\n  (function (window, document, Chartist) {\n      'use strict';\n\n      function MonthsAxis(axisUnit, data, chartRect, options) {\n          this.year = options.year;\n          this.ticks = getMonthTicks(this.year);\n          this.divisor = this.ticks.length;\n          this.range = {\n              min: this.ticks[0],\n              max: this.ticks[this.ticks.length - 1]\n          };\n\n          Chartist.MonthsAxis.super.constructor.call(this,\n            axisUnit,\n            chartRect,\n            this.ticks,\n            options);\n\n          this.stepLength = this.axisLength / this.divisor;\n      }\n\n      function projectValue(value) {\n          return this.axisLength * (+Chartist.getMultiValue(value, this.units.pos) - this.range.min) / (this.range.max - this.range.min);\n      }\n\n      /**\n       * Creates an array with 13 timestamps, 12 of them are for the start day of each month\n       * and last one is for the end the of December.\n       *\n       * @param year\n       * @returns {Array}\n       */\n      function getMonthTicks(year) {\n\n          return Array.apply(null, new Array(13)).map(function (x, i) {\n              var month = i, day = 1;\n\n              // In step 13 (from 1 dec to 31 dec) create the correct values for the date.\n              // This step is needed since we need some space to project the values in the last month\n              if (i === 12) {\n                  month = 11;\n                  day = 31;\n              }\n\n              return new Date(year, month, day).getTime();\n          });\n      }\n\n      Chartist.MonthsAxis = Chartist.Axis.extend({\n          constructor: MonthsAxis,\n          projectValue: projectValue\n      });\n\n  }(window, document, Chartist));\n\n  return Chartist.MonthsAxis;\n\n}));\n"]}